/**
 * Author: Jahn Crystan Abella
 * Date Created: 2/2/2023
 **/


package pexer1;

import java.net.InetAddress;
import java.net.UnknownHostException;
import java.util.Scanner;

public class PreExercise1 {
    static Scanner kbd = new Scanner(System.in);

    private static String hostName;
    private static int programCount = 0;
    private static int numberOfHost;

    public static void gatherInput() {
        programCount++;

        System.out.println("Host " + programCount);
        System.out.println("Type IP address / Hostname: ");
        hostName = kbd.nextLine();

        System.out.println("Input number of hosts/IP: ");
        numberOfHost = kbd.nextInt();

        System.out.println("\nGetting IP Address of " + hostName + "...\n\n");
        System.out.printf("%-10s %-10s   %n", "Host Name", "IP Address");

    }

    public static void main(String[] args) {
        char choice;
        do {

            gatherInput();

            while (numberOfHost != 0) {

                for (int i = 0; i <= numberOfHost - 1; i++) {
                    try {
                        InetAddress address = InetAddress.getByName(hostName);

                        System.out.printf("%-10s %-10s   %n", address.getHostName(), address.getHostAddress());

                    } catch (UnknownHostException e) {
                        System.out.println("Host does not exist!");
                        e.printStackTrace();
                    } catch (SecurityException e) {
                        System.out.println("Security manager exists, but does not allow the operation!");
                        e.printStackTrace();
                    }
                }
                numberOfHost = 0; // initialize numberOfHost back to 0
            }
            System.out.println("\nSearch another [y/n]? ");
            choice = kbd.next().charAt(0);

        } while (choice == 'y');


        if (choice == 'n') {
            System.out.println("Thank you for using my program!");
            System.exit(0);
        }
    }
}

